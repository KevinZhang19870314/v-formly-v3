import{f as g,g as c,r as p,o as x,c as C,e as n,a as $,w as r,b as i,t as w,u as k,_ as V}from"./app.5b6a6178.js";const b={class:"btns"},q=g({__name:"ArrayView",setup(h){const o=c(null),s=c({product:[{name:"3"}]}),d={type:"object",properties:{name:{title:"姓名",type:"string",ui:{showRequired:!0}},product:{type:"array",title:"产品清单",minItems:1,maxItems:3,items:{type:"object",properties:{name:{type:"string",title:"名称",ui:{showRequired:!0},default:"1"},desc:{type:"string",title:"简介"},product:{type:"array",title:"产品清单",items:{type:"object",properties:{name:{type:"string",title:"名称",default:"1-1"},desc:{type:"string",title:"简介"}}},ui:{grid:{arraySpan:24}}}},required:["name"]},ui:{showRequired:!0,grid:{arraySpan:24},addTitle:"添加",optional:"(选填)",optionalHelp:{icon:"QuestionCircleOutlined",text:"选填帮助"}},default:[{name:"2"}]}},required:["name"]};async function m(){const t=await o.value.validate();console.log(t,w(k(s)))}function f(){const t=o.value.getContext("/product/0/name");t&&(t.value="kevin zhang")}function y(){const t=o.value.getContext("/product");console.log(t.value),t.value=[]}function v(t){const a=o.value.getContext("/product");console.log(a.value);const l=[];for(let e=0;e<t;e++)l.push({name:`${e}`,desc:`${e}`,product:[{name:`${e}-1`,desc:`${e}-1`},{name:`${e}-2`,desc:`${e}-2`},{name:`${e}-3`,desc:`${e}-3`},{name:`${e}-4`,desc:`${e}-4`}]});a.value=l}function _(){o.value.getContext("/product").add()}return(t,a)=>{const l=p("v-formly-v3"),e=p("a-button");return x(),C("div",null,[n(l,{ref_key:"form",ref:o,modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=u=>s.value=u),meta:d},null,8,["modelValue"]),$("div",b,[n(e,{type:"primary",onClick:f},{default:r(()=>[i(" 设置 name ")]),_:1}),n(e,{type:"primary",onClick:_},{default:r(()=>[i(" 添加 1 个")]),_:1}),n(e,{type:"primary",onClick:a[1]||(a[1]=u=>v(5))},{default:r(()=>[i(" 添加 5 个")]),_:1}),n(e,{type:"primary",onClick:y},{default:r(()=>[i(" 重置 ")]),_:1}),n(e,{type:"primary",onClick:m},{default:r(()=>[i(" 提交 ")]),_:1})])])}}}),R=V(q,[["__file","ArrayView.vue"]]);export{R as default};
