import{f as g,g as s,r as c,o as C,c as B,e,w as o,b as a,a as b,t as q,u as x,_ as S}from"./app.5b6a6178.js";const E={class:"btns"},R={class:"btns"},D=g({__name:"SubmitButtonView",setup(N){const f=s(null),_=s({}),p=s({}),u=s({}),i={properties:{name:{title:"姓名",type:"string",ui:{showRequired:!0}},asyncError:{title:"异步错误（2秒）",type:"string",ui:{showRequired:!0,validatorAsync:l=>new Promise(t=>{setTimeout(()=>{t(l?[]:[{keyword:"required",message:"Required asyncError"}])},2e3)})}}},required:["name","asyncError"]};function v(l){console.log(l)}function y(){u.value={}}async function V(){await f.value.validate()&&console.log(q(x(u)))}return(l,t)=>{const d=c("a-divider"),m=c("v-formly-v3"),r=c("a-button");return C(),B("div",null,[e(d,null,{default:o(()=>[a("button = 'default' 显示默认的提交按钮")]),_:1}),e(m,{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=n=>_.value=n),meta:i,button:"default",onFormSubmit:v},null,8,["modelValue"]),e(d,null,{default:o(()=>[a("button = 'custom' 自定义提交按钮，传入 default slot")]),_:1}),e(m,{modelValue:p.value,"onUpdate:modelValue":t[1]||(t[1]=n=>p.value=n),meta:i,button:"custom",onFormSubmit:v},{button:o(({loading:n,clearForm:w,submitForm:k})=>[b("div",E,[e(r,{type:"danger",onClick:w},{default:o(()=>[a(" 自定义重置 ")]),_:2},1032,["onClick"]),e(r,{type:"primary",onClick:k,loading:n},{default:o(()=>[a(" 自定义提交 ")]),_:2},1032,["onClick","loading"])])]),_:1},8,["modelValue"]),e(d,null,{default:o(()=>[a("button = undefined 不需要提交按钮，完全由外部控制")]),_:1}),e(m,{ref_key:"form",ref:f,modelValue:u.value,"onUpdate:modelValue":t[2]||(t[2]=n=>u.value=n),meta:i},null,8,["modelValue"]),b("div",R,[e(r,{type:"danger",onClick:y},{default:o(()=>[a(" 重置 ")]),_:1}),e(r,{type:"primary",onClick:V},{default:o(()=>[a(" 提交 ")]),_:1})])])}}}),A=S(D,[["__file","SubmitButtonView.vue"]]);export{A as default};
